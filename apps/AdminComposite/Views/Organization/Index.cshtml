@model object

<script type="text/javascript">
	$(document).ready(function () {
		$("#add-user").click(function () {
			$("<div></div>")
				.load("/Organization/GetUser")
				.modal({
					autoResize: true,
					autoPosition: true,
					position: new Array(25, 300),
					dataCss: { backgroundColor: "#fff", overflow: "auto", height: 385, width: 635 },
					containerCss: { height: 400, width: 650 }
				});

			return false;
		});

		$(".edit.user").click(function () {
			var organizationId = "11111111-1111-1111-1111-111111111111";
			$("<div></div>")
				.load("/Organization/GetUser?organizationId=" + organizationId + "&userId=" + $(this).attr("data-user-id"))
				.modal({
					autoResize: true,
					autoPosition: true,
					position: new Array(25, 300),
					dataCss: { backgroundColor: "#fff", overflow: "auto", height: 385, width: 635 },
					containerCss: { height: 400, width: 650 }
				});

		});

		$("#trigger-edit").click(function () {
			$("#organization-details .organization-detail").each(function (index, item) {
				var inputClass = $(item).attr("id") == "organization-name" ? "organization-name-form" : "jeditable";
				$(item).editable("enable");
				$(item).editable(null, {
					cssclass: inputClass,
					onblur: "ignore"
				});

				$(item).click();
				$("#trigger-edit").hide();
				$("#save-edit").show();
				$("#cancel-edit").show();
				$("#cancel-edit").focus();
			});
		});

		$("#save-edit").click(function () {
			$("#organization-details .organization-detail").each(function (index, item) {
				var id = item.id;
				var inputSelector = "#" + id + " input";
				var value = $(inputSelector).val();

				console.log(id + " = " + value);
			});
			resetEditableFields();
		});


		$("#cancel-edit").click(function () {
			resetEditableFields();
		});
	});
	
	function resetEditableFields() {
		$("#organization-details .organization-detail").each(function (index, item) {
			item.reset();
			$(item).editable("disable");
		});

		$("#trigger-edit").show();
		$("#save-edit").hide();
		$("#cancel-edit").hide();
	}

	function deleteUser(userId) {
		alert("deleteing user: " + userId);
	}
</script>

<style>
.jeditable 
{
	margin: 0;
	padding: 0;
	display: inline;
}

.organization-name-form
{
	height:10px;
}

.organization-name-form input
{
	position:relative;
	top: -30px;
}

section 
{
	margin-bottom:25px;
}

#organization-details .input-container
{
	float:left;
	margin-right:15px;
	margin-bottom:10px;
}

.organization-detail
{
	width: 200px;
	display:inline-block;
}

#trigger-edit.button,
#save-edit.button,
#cancel-edit.button 
{
	float:right;
	margin-left: 15px;
}
</style>

<section id="organization-details">
	<article>
		<header>
			<h2 id="organization-name" class="organization-detail" brel="tooltip" boriginal-title="Click to edit">Organization Name</h2>
		</header>
	</article>

	<div class="input-container">
		<label for="organization-url">Website Url</label>
		<br/>
		<span id="organization-url" class="organization-detail">http://google.com</span>
	</div>
	<div class="input-container">
		<label for="organization-phone">Phone Number</label>
		<br/>
		<span id="organization-phone" class="organization-detail">(123)456-7890</span>
	</div>
	<div style="clear:both"></div>

	<div class="input-container">
		<label for="organization-address-1">Address</label>
		<br/>
		<span id="organization-address-1" class="organization-detail">Address</span>
	</div>
	<div class="input-container">
		<label for="organization-address-2">Address 2</label>
		<br/>
		<span id="organization-address-2" class="organization-detail">Address 2</span>
	</div>
	<div style="clear:both"></div>

	<div class="input-container">
		<label for="organizaiton-city">City</label>
		<br/>
		<span id="organization-city" class="organization-detail">City</span>
	</div>
	<div class="input-container">
		<label for="organization-state">State / Region</label>
		<br />
		<span id="organization-state" class="organization-detail">State/Region</span>
	</div>
	<div class="input-container">
		<label for="organization-zip">Zip / Postal Code</label>
		<br/>
		<span id="organization-zip" class="organization-detail">22314</span>
	</div>
	<div style="clear:both"></div>


	<div class="input-container">
		<label for="organization-country">Country</label>
		<br/>
		<span id="organization-country" class="organization-detail">U.S.A</span>
	</div>
	<div style="clear:both"></div>


	<input type="button" class="button" id="trigger-edit" value="Edit"/>
	<input type="button" class="button" id="save-edit" value="Save" style="display:none"/>
	<input type="button" class="button" id="cancel-edit" value="Cancel"  style="display:none"/>
</section>

<article>
	<header>
		<h2>Administrators</h2>
	</header>
</article>

<section>
	<table>
		<thead>
			<tr>
				<th>Name</th>
				<th>Email</th>
				<th>Last Login</th>
				<th>&nbsp;</th>
			</tr>
		</thead>

		<tbody>
			<tr>
				<td>(You) Theodore Donald "Donny" Kerabtsos</td>
				<td>donny@letsgobowling.com</td>
				<td>Moments ago</td>
				<td>
					<ul class="actions">
						<li><a class="edit user" rel="tooltip" href="#" original-title="Edit" data-user-name="Theodore Donald &quot;Donny&quot; Kerabtsos" data-user-id="22222222-2222-2222-2222-222222222222">Edit</a></li>
					</ul>
				</td>
			</tr>
			<tr>
				<td>Walter Sobchak</td>
				<td>walter@letsgobowling.com</td>
				<td>Moments ago</td>
				<td>
					<ul class="actions">
						<li><a class="edit user" rel="tooltip" href="#" original-title="Edit" data-user-name="Walter Sobchak" data-user-id="33333333-3333-3333-3333-333333333333">Edit</a></li>
						<li><a class="admin-delete" href="#" rel="tooltip" original-title="Delete Walter Sobchak" data-confirmation-message="Really delete Walter Sobchak?" data-confirm-function="deleteUser" data-item-id="33333333-3333-3333-3333-333333333333">Delete</a></li>
					</ul>
				</td>
			</tr>
		</tbody>
	</table>

	<a href="#" id="add-user" value="Add User" style="float:right" class="button">Add User</a>
</section>

@section Breadcrumbs {
	<ul id="breadcrumbs">
		<li><a href="@Url.Action("Index", "Dashboard")" title="Back to Homepage">Home</a></li>
		<li>@ViewBag.Title</li>
	</ul>
}