@using Euclid.Composites.Mvc.Extensions
@model ForumComposite.Models.PublishPostInputModel

@if (Request.IsAuthenticated)
{
	<div class="well">
		<div id="newPost" style="text-align: center;">
			<input type="button" data-controls-modal="newPost-modal" data-backdrop="static" class="btn medium primary"
						 value="Create Post" />
		</div>
	</div>
}

<div class="modal hide fade" style="display: none;" id="newPost-modal">
	@using (Html.BeginFormForInputModel(Model, true, Url.RouteUrl("Home")))
	{
		<div class="modal-header">
			<a href="#" class="close">&times;</a>
			<h3>New Post</h3>
		</div>

		<div class="modal-body">
		
			
		 @Html.Hidden("ForumIdentifier", ForumIdentifier)
		 @Html.Hidden("AuthorIdentifier", CurrentUserIdentifier)

				<fieldset>
					<div class="clearfix">
						<label for="username">
							Title</label>
						<div class="input">
							@Html.TextBoxFor(m => m.Title)
						</div>
					</div>
					<div class="clearfix">
						<label for="email">
							Post</label>
						<div class="input">
							@Html.TextAreaFor(m => m.Body, 3, 6, new { @class ="x-large"})
							<span class="help-block">Please be civil.</span>
						</div>
					</div>
				</fieldset>

		</div>

		<div class="modal-footer">
			<button class="btn primary">Publish Post</button>
			<a href="#" class="btn close">Cancel</a>
		</div>
	}
</div>